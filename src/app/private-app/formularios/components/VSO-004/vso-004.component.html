<div class="container">
  <div class="row">
    <div class="col">
      <h1 class="text-center text-primary">
        SEGUIMIENTO Y EVALUACIÓN DE PRÁCTICAS PRE PROFESIONALES POR PARTE DE LA
        ORGANIZACIÓN, ENTIDAD O PERSONA JURÍDICA
      </h1>
    </div>
  </div>
  <form [formGroup]="formularioVSO004">
    <div class="row mb-3">
      <div class="col">
        <div class="card shadow-sm">
          <div class="card-header">
            <b>DATOS DE LA ORGANIZACIÓN, ENTIDAD O PERSONA JURÍDICA:</b>
          </div>
          <div class="card-body">
            <div class="row mb-3">
              <div class="col-6">
                <label for="nombreEmpresaInput" class="form-label"
                  >Nombre / Razón social:</label
                >
                <input
                  type="text"
                  class="form-control inputCompletado"
                  id="nombreEmpresaInput"
                  [value]="infoEvaluacionRepresentante.razon_social"
                  readonly
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label for="representanteEmpresaInput" class="form-label"
                  >Representante legal:</label
                >
                <input
                  type="text"
                  class="form-control inputCompletado"
                  id="representanteEmpresaInput"
                  [value]="infoEvaluacionRepresentante.representante_legal"
                  readonly
                />
              </div>
              <div class="col">
                <label for="areaEmpresaInput" class="form-label"
                  >Área de dedicación:</label
                >
                <input
                  type="text"
                  class="form-control inputCompletado"
                  id="areaEmpresaInput"
                  [value]="infoEvaluacionRepresentante.area_dedicacion"
                  readonly
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label
                  for="representantePracticaEmpresaInput"
                  class="form-label"
                  >Representante para la práctica del estudiante:</label
                >
                <input
                  type="text"
                  class="form-control inputCompletado"
                  id="representantePracticaEmpresaInput"
                  [value]="infoEvaluacionRepresentante.representante"
                  readonly
                />
              </div>
              <div class="col">
                <label for="areaPracticaEmpresaInput" class="form-label"
                  >Área de las prácticas:</label
                >
                <input
                  type="text"
                  class="form-control inputCompletado"
                  id="areaPracticaEmpresaInput"
                  [value]="infoEvaluacionRepresentante.area_practicas"
                  readonly
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col">
        <div class="card shadow-sm">
          <div class="card-header"><b>DATOS DEL ESTUDIANTE:</b></div>
          <div class="card-body">
            <div class="row mb-3">
              <div class="col-6">
                <label for="nombreEstudianteInput" class="form-label"
                  >Nombre:</label
                >
                <input
                  type="text"
                  class="form-control inputCompletado"
                  id="nombreEstudianteInput"
                  [value]="infoEvaluacionRepresentante.nombre_estudiante"
                  readonly
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label class="form-label">Carrera:</label>
                <input
                  type="text"
                  class="form-control inputCompletado"
                  id="escuelaInput"
                  [value]="infoEvaluacionRepresentante.escuela"
                  readonly
                />
              </div>
              <div class="col">
                <label class="form-label">Nivel/Ciclo:</label>
                <input
                  type="text"
                  class="form-control inputCompletado"
                  id="nivelInput"
                  [value]="infoEvaluacionRepresentante.nivel"
                  readonly
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label for="areaPracticasInput" class="form-label"
                  >Área de la práctica pre-profesional:</label
                >
                <input
                  type="text"
                  class="form-control inputCompletado"
                  id="areaPracticasInput"
                  [value]="infoEvaluacionRepresentante.area_practicas"
                  readonly
                />
              </div>
              <div class="col">
                <label for="horasPracicasInput" class="form-label"
                  >Número de horas de prácticas realizadas:</label
                >
                <input
                  type="number"
                  class="form-control inputCompletado"
                  id="horasPracicasInput"
                  [value]="infoEvaluacionRepresentante.horas_practicas"
                  readonly
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label for="inicioPracticasInput" class="form-label"
                  >Fecha de inicio:</label
                >
                <input
                  type="date"
                  class="form-control inputCompletado"
                  id="inicioPracticasInput"
                  [value]="infoEvaluacionRepresentante.fecha_inicio"
                  readonly
                />
              </div>
              <div class="col">
                <label for="finPracicasInput" class="form-label"
                  >Fecha de finalización:</label
                >
                <input
                  type="date"
                  class="form-control inputCompletado"
                  id="finPracicasInput"
                  [value]="infoEvaluacionRepresentante.fecha_fin"
                  readonly
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mb-3" formGroupName="calificacion">
      <div class="col">
        <div class="card shadow-sm">
          <div class="card-header">VALORACIÓN</div>
          <div class="card-body">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th colspan="2" scope="col" class="text-center">CRITERIOS</th>
                  <th scope="col" class="text-center">SOBRE / 30</th>
                </tr>
              </thead>
              <tbody formArrayName="criterios">
                <tr
                  *ngFor="
                    let criterioForm of tranformarAbstractControlEnFormArray(
                      formularioVSO004.get('calificacion.criterios')!
                    ).controls;
                    index as i
                  "
                  [formGroupName]="i"
                >
                  <th scope="row" class="text-center">{{ i + 1 }}.</th>
                  <td>
                    <label
                      for="{{ 'criterioCalificacion' + i }}"
                      class="form-label"
                      >{{ criterioForm.get("nombre")?.value }}</label
                    >
                  </td>
                  <td>
                    <input
                      type="number"
                      class="form-control"
                      id="{{ 'criterioCalificacion' + i }}"
                      formControlName="calificacion"
                      (blur)="calcularNotaPromedio()"
                    />
                  </td>
                </tr>
              </tbody>
              <tbody>
                <tr>
                  <th colspan="2" scope="row" class="text-end">PROMEDIO:</th>
                  <td>
                    <input
                      type="number"
                      class="form-control inputCompletado"
                      formControlName="nota_promedio"
                      readonly
                    />
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <div class="row mb-3">
              <div class="col-6">
                <label for="asistenciaInput" class="form-label"
                  ><span style="color: red">*</span> Asistencia (%):</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="asistenciaInput"
                  formControlName="porcentaje_asistencia"
                  min="0"
                  max="100"
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label for="observacionesInput" class="form-label"
                  ><span style="color: red">*</span> Observaciones:</label
                >
                <textarea
                  class="form-control"
                  id="observacionesInput"
                  rows="3"
                  formControlName="observaciones"
                ></textarea>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label for="recomendacionesInput" class="form-label"
                  ><span style="color: red">*</span> Recomendaciones:</label
                >
                <textarea
                  class="form-control"
                  id="recomendacionesInput"
                  rows="3"
                  formControlName="recomendaciones"
                ></textarea>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="d-grid gap-2 mb-3">
      <button
        [disabled]="formularioVSO004.invalid"
        class="btn btn-primary btn-lg"
        type="button"
        (click)="guardarInformacion()"
      >
        Guardar
      </button>
    </div>
  </form>
</div>
